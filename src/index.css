@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
  DARK MODE ONLY - This app has no light mode.
  The .dark class is always on <html> and cannot be removed.
*/

@layer base {
  /* Base dark values for :root */
  :root {
    --background: #1e2433;
    --foreground: #fafafa;
    --card: #252d3d;
    --card-foreground: #fafafa;
    --popover: #252d3d;
    --popover-foreground: #fafafa;
    --primary: #00bfff;
    --primary-foreground: #ffffff;
    --secondary: #a855f7;
    --secondary-foreground: #ffffff;
    --muted: #374151;
    --muted-foreground: #c4c9d4;
    --accent: #ff3399;
    --accent-foreground: #ffffff;
    --destructive: #ef4444;
    --destructive-foreground: #ffffff;
    --border: #3d4657;
    --input: #2d3545;
    --ring: #00bfff;
    --radius: 1rem;
    --success: #22c55e;
    --success-foreground: #ffffff;
    --warning: #f59e0b;
    --warning-foreground: #ffffff;

    /* Gradients */
    --gradient-primary: linear-gradient(135deg, #00bfff 0%, #a855f7 100%);
    --gradient-secondary: linear-gradient(135deg, #a855f7 0%, #ff3399 100%);
    --gradient-accent: linear-gradient(135deg, #ff3399 0%, #ff6b35 100%);
    --gradient-hero: linear-gradient(135deg, #00bfff 0%, #a855f7 50%, #ff3399 100%);
    --gradient-card: linear-gradient(135deg, rgba(37, 45, 61, 0.9) 0%, rgba(45, 40, 70, 0.9) 100%);
    --gradient-auth-bg: linear-gradient(135deg, #1a3a4a 0%, #2d2845 50%, #3d1a35 100%);
    
    /* Shadows */
    --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 8px 16px rgba(0, 0, 0, 0.4);
    --shadow-lg: 0 20px 40px rgba(0, 0, 0, 0.5);
    --shadow-glow: 0 0 40px rgba(0, 191, 255, 0.5), 0 0 20px rgba(0, 191, 255, 0.3);
    --shadow-glow-secondary: 0 0 40px rgba(168, 85, 247, 0.5), 0 0 20px rgba(168, 85, 247, 0.3);
    --shadow-auth-card: 0 30px 60px -15px rgba(0, 191, 255, 0.4), 0 0 80px rgba(168, 85, 247, 0.2);

    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

    /* Sidebar */
    --sidebar-background: #252d3d;
    --sidebar-foreground: #f5f5f5;
    --sidebar-primary: #00bfff;
    --sidebar-primary-foreground: #ffffff;
    --sidebar-accent: #313b4d;
    --sidebar-accent-foreground: #00d4ff;
    --sidebar-border: #374151;
    --sidebar-ring: #00bfff;
    
    /* Nav icons */
    --nav-icon-1: #00bfff;
    --nav-icon-2: #a855f7;
    --nav-icon-3: #ff3399;
    --nav-icon-4: #22c55e;
    --nav-icon-5: #f59e0b;
    --nav-icon-6: #00e5ff;
    --nav-icon-7: #c084fc;
    --nav-icon-8: #ff6b35;
    --nav-icon-9: #14b8a6;
    --nav-icon-10: #f43f5e;
    --nav-icon-11: #0ea5e9;
    --nav-icon-12: #d946ef;
    --nav-icon-13: #4ade80;
    --nav-icon-14: #e879f9;
    --nav-icon-15: #2dd4bf;
    --nav-icon-16: #fb923c;
    
    color-scheme: dark;
  }

  /* CRITICAL: Duplicate all values for .dark selector so Tailwind dark: variants work */
  .dark {
    --background: #1e2433;
    --foreground: #fafafa;
    --card: #252d3d;
    --card-foreground: #fafafa;
    --popover: #252d3d;
    --popover-foreground: #fafafa;
    --primary: #00bfff;
    --primary-foreground: #ffffff;
    --secondary: #a855f7;
    --secondary-foreground: #ffffff;
    --muted: #374151;
    --muted-foreground: #c4c9d4;
    --accent: #ff3399;
    --accent-foreground: #ffffff;
    --destructive: #ef4444;
    --destructive-foreground: #ffffff;
    --border: #3d4657;
    --input: #2d3545;
    --ring: #00bfff;
    --success: #22c55e;
    --success-foreground: #ffffff;
    --warning: #f59e0b;
    --warning-foreground: #ffffff;
    --sidebar-background: #252d3d;
    --sidebar-foreground: #f5f5f5;
    --sidebar-primary: #00bfff;
    --sidebar-primary-foreground: #ffffff;
    --sidebar-accent: #313b4d;
    --sidebar-accent-foreground: #00d4ff;
    --sidebar-border: #374151;
    --sidebar-ring: #00bfff;
    color-scheme: dark;
  }

  * {
    @apply border-border;
  }

  html, body, #root {
    background: #1e2433 !important;
    color: #fafafa !important;
  }
  
  body {
    background: #1e2433;
    color: #fafafa;
  }
}

/* Force dark on common light classes */
.bg-white { background: #252d3d !important; }
.bg-gray-50, .bg-gray-100 { background: #374151 !important; }
.text-black, .text-gray-900 { color: #fafafa !important; }
.text-gray-800, .text-gray-700, .text-gray-600 { color: #c4c9d4 !important; }

/* Glass effects - dark */
.glass {
  @apply backdrop-blur-xl border border-white/20;
  background: rgba(30, 36, 51, 0.8);
}

.glass-dark {
  @apply backdrop-blur-xl border border-white/10;
  background: rgba(0, 0, 0, 0.4);
}

/* Card hover */
.card-hover {
  @apply transition-all duration-300 hover:shadow-lg hover:-translate-y-1;
}

/* Gradient text */
.gradient-text {
  @apply bg-gradient-hero bg-clip-text text-transparent;
}

/* Animations */
.animate-float { animation: float 3s ease-in-out infinite; }
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

.animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-scale-in { animation: scaleIn 0.3s ease-out forwards; }
@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

.drop-shadow-glow { filter: drop-shadow(0 0 8px currentColor); }

/* Scrollbar - dark */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: #1e2433; }
::-webkit-scrollbar-thumb { background: #374151; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: #4b5563; }

/* Premium effects */
.premium-glow {
  box-shadow: 0 0 20px rgba(0, 191, 255, 0.3), 0 0 40px rgba(168, 85, 247, 0.2);
}

.premium-border {
  border: 1px solid transparent;
  background: linear-gradient(#252d3d, #252d3d) padding-box,
              linear-gradient(135deg, #00bfff, #a855f7) border-box;
}

/* Accessibility */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background;
}

.skip-link {
  @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-primary focus:text-primary-foreground focus:rounded-md;
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Accessibility preference classes */
.high-contrast {
  --background: #000000;
  --foreground: #ffffff;
  --card: #1a1a1a;
  --card-foreground: #ffffff;
  --primary: #ffff00;
  --primary-foreground: #000000;
  --secondary: #00ffff;
  --secondary-foreground: #000000;
  --muted: #333333;
  --muted-foreground: #ffffff;
  --border: #ffffff;
}

.large-text {
  font-size: 120%;
}

.large-text h1 { font-size: 2.5rem; }
.large-text h2 { font-size: 2rem; }
.large-text h3 { font-size: 1.75rem; }
.large-text p, .large-text span, .large-text label { font-size: 1.2rem; }
.large-text button { font-size: 1.1rem; }

.reduce-motion *, 
.reduce-motion *::before, 
.reduce-motion *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

/* =====================================================
   MOBILE / CAPACITOR OPTIMIZATIONS
   ===================================================== */

/* Safe area insets for notches and home indicators */
.safe-area-top {
  padding-top: env(safe-area-inset-top, 0px);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

.safe-area-left {
  padding-left: env(safe-area-inset-left, 0px);
}

.safe-area-right {
  padding-right: env(safe-area-inset-right, 0px);
}

.safe-area-inset {
  padding-top: env(safe-area-inset-top, 0px);
  padding-right: env(safe-area-inset-right, 0px);
  padding-bottom: env(safe-area-inset-bottom, 0px);
  padding-left: env(safe-area-inset-left, 0px);
}

/* Fixed bottom elements need safe area margin */
.fixed-bottom-safe {
  bottom: 0;
  padding-bottom: max(env(safe-area-inset-bottom, 0px), 0.5rem);
}

/* Touch-friendly targets (44px minimum per Apple HIG) */
.touch-target {
  min-height: 44px;
  min-width: 44px;
}

/* Mobile navigation bottom bar */
.mobile-nav-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--card);
  border-top: 1px solid var(--border);
  padding-bottom: env(safe-area-inset-bottom, 0px);
  z-index: 50;
}

/* Prevent pull-to-refresh on mobile when not needed */
.no-overscroll {
  overscroll-behavior: none;
}

/* Smooth scrolling for mobile */
.mobile-scroll {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* Prevent text selection on mobile UI elements */
.no-select {
  -webkit-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
}

/* Tap highlight color */
button, a, [role="button"] {
  -webkit-tap-highlight-color: transparent;
}

/* Momentum scrolling for lists */
.momentum-scroll {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

/* Bottom sheet animation */
@keyframes slideUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.slide-up {
  animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Pull-to-refresh indicator area */
.pull-indicator {
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--muted-foreground);
}

/* Capacitor/Native specific */
@supports (padding-top: env(safe-area-inset-top)) {
  .capacitor-layout {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .capacitor-header {
    padding-top: calc(env(safe-area-inset-top) + 0.5rem);
  }
  
  .capacitor-footer {
    padding-bottom: calc(env(safe-area-inset-bottom) + 0.5rem);
  }
}